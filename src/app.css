@import "@fontsource-variable/inter";
@import "tailwindcss";
@import "@saas-ui/tailwind-preset/theme.css";

:root {
	color-scheme: light dark;

	/* Scale factor for sizing (affects font sizes, line heights, spacing) */
	--scale-factor: 1;

	/* Radius multipliers for component categories */
	--radius-control: 1;
	--radius-panel: 1;
	--radius-indicator: 1;

	--spacing-11: calc(2.75rem * var(--scale-factor));
}

html.light {
	color-scheme: light;
}

html.dark {
	color-scheme: dark;
}

/* Disable transitions during theme switch */
html.no-transitions,
html.no-transitions * {
	transition: none !important;
}

body {
	background-color: var(--color-bg-default);
	color: var(--color-fg-default);
	font-size: var(--font-sizes-sm);
	line-height: var(--line-heights-md);
}

@custom-variant dark (&:is(.dark *));

@theme {
	--font-sans: "Inter Variable", sans-serif;

	/* Semantic background colors - use as bg-default, bg-muted, etc. */
	--color-bg-default: var(--colors-bg-default);
	--color-bg-muted: var(--colors-bg-muted);
	--color-bg-subtle: var(--colors-bg-subtle);
	--color-bg-emphasized: var(--colors-bg-emphasized);
	--color-bg-inverted: var(--colors-bg-inverted);
	--color-bg-panel: var(--colors-bg-panel);
	--color-bg-overlay: var(--colors-bg-overlay);
	--color-bg-error: var(--colors-bg-error);
	--color-bg-warning: var(--colors-bg-warning);
	--color-bg-success: var(--colors-bg-success);
	--color-bg-info: var(--colors-bg-info);

	/* Semantic foreground/text colors - use as text-fg-default, text-fg-muted, etc. */
	--color-fg-default: var(--colors-fg-default);
	--color-fg-muted: var(--colors-fg-muted);
	--color-fg-subtle: var(--colors-fg-subtle);
	--color-fg-emphasized: var(--colors-fg-emphasized);
	--color-fg-inverted: var(--colors-fg-inverted);
	--color-fg-error: var(--colors-fg-error);
	--color-fg-warning: var(--colors-fg-warning);
	--color-fg-success: var(--colors-fg-success);
	--color-fg-info: var(--colors-fg-info);

	/* Semantic border colors - use as border-default, border-muted, etc. */
	--color-border-default: var(--colors-border-default);
	--color-border-muted: var(--colors-border-muted);
	--color-border-subtle: var(--colors-border-subtle);
	--color-border-emphasized: var(--colors-border-emphasized);
	--color-border-inverted: var(--colors-border-inverted);
	--color-border-error: var(--colors-border-error);
	--color-border-warning: var(--colors-border-warning);
	--color-border-success: var(--colors-border-success);
	--color-border-info: var(--colors-border-info);

	/* Animations */
	--animate-fade-in: fade-in var(--durations-moderate) ease-out forwards;
	--animate-fade-out: fade-out var(--durations-moderate) ease-in forwards;

	--animate-dialog-in:
		fade-in var(--durations-moderate) ease-out,
		scale-in var(--durations-moderate) ease-out;
	--animate-dialog-out:
		fade-out var(--durations-moderate) ease-in,
		scale-out var(--durations-moderate) ease-in;

	--animate-dialog-slide-in:
		fade-in var(--durations-moderate) ease-out,
		slide-in-bottom var(--durations-slow) cubic-bezier(0.16, 1, 0.3, 1);
	--animate-dialog-slide-out:
		fade-out var(--durations-moderate) ease-in,
		slide-out-bottom var(--durations-moderate) ease-in;

	--animate-accordion-down: slide-down var(--durations-moderate) ease-out;
	--animate-accordion-up: slide-up var(--durations-moderate) ease-out;

	@keyframes fade-in {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}
	@keyframes fade-out {
		from {
			opacity: 1;
		}
		to {
			opacity: 0;
		}
	}
	@keyframes scale-in {
		from {
			transform: scale(0.95);
		}
		to {
			transform: scale(1);
		}
	}
	@keyframes scale-out {
		from {
			transform: scale(1);
		}
		to {
			transform: scale(0.95);
		}
	}
	@keyframes slide-in-bottom {
		from {
			transform: translateY(2rem);
		}
		to {
			transform: translateY(0);
		}
	}
	@keyframes slide-out-bottom {
		from {
			transform: translateY(0);
		}
		to {
			transform: translateY(2rem);
		}
	}
	@keyframes slide-down {
		from {
			height: 0;
		}
		to {
			height: var(--height);
		}
	}
	@keyframes slide-up {
		from {
			height: var(--height);
		}
		to {
			height: 0;
		}
	}

	/* Toast entry animation - slide in from below */
	@keyframes toast-slide-in {
		from {
			opacity: 0;
			transform: translateY(1rem);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}
}

/* Prevent ghost elements from causing overflow on toast exit */
[data-scope="toast"][data-part="root"][data-first] [data-ghost="before"] {
	scale: 1 1 !important;
}

/* Override colors for WCAG AA compliance */
/* Contrast colors for solid/glass button text */
:root:root {
	/* Black text for light/bright colors */
	--colors-amber-contrast: var(--color-black);
	--colors-yellow-contrast: var(--color-black);
	--colors-lime-contrast: var(--color-black);
	--colors-neutral-contrast: light-dark(
		var(--color-white),
		var(--color-black)
	);

	/* White text for all other colors */
	--colors-gray-contrast: var(--color-white);
	--colors-zinc-contrast: var(--color-white);
	--colors-stone-contrast: var(--color-white);
	--colors-slate-contrast: var(--color-white);
	--colors-red-contrast: var(--color-white);
	--colors-orange-contrast: var(--color-white);
	--colors-green-contrast: var(--color-white);
	--colors-emerald-contrast: var(--color-white);
	--colors-teal-contrast: var(--color-white);
	--colors-cyan-contrast: var(--color-white);
	--colors-sky-contrast: var(--color-white);
	--colors-blue-contrast: var(--color-white);
	--colors-indigo-contrast: var(--color-white);
	--colors-violet-contrast: var(--color-white);
	--colors-purple-contrast: var(--color-white);
	--colors-fuchsia-contrast: var(--color-white);
	--colors-pink-contrast: var(--color-white);
	--colors-rose-contrast: var(--color-white);

	/* Semantic color overrides */
	--color-fg-error: light-dark(var(--color-red-600), var(--color-red-400));
	--color-fg-muted: light-dark(var(--color-gray-500), var(--color-gray-400));

	/* Darker solid shades for WCAG AA 4.5:1 contrast with white text */
	--colors-red-solid: light-dark(var(--color-red-700), var(--color-red-700));
	--colors-orange-solid: light-dark(
		var(--color-orange-700),
		var(--color-orange-700)
	);
	--colors-green-solid: light-dark(
		var(--color-green-700),
		var(--color-green-700)
	);
	--colors-emerald-solid: light-dark(
		var(--color-emerald-700),
		var(--color-emerald-700)
	);
	--colors-teal-solid: light-dark(
		var(--color-teal-700),
		var(--color-teal-700)
	);
	--colors-cyan-solid: light-dark(
		var(--color-cyan-700),
		var(--color-cyan-700)
	);
	--colors-sky-solid: light-dark(var(--color-sky-700), var(--color-sky-700));
	--colors-pink-solid: light-dark(
		var(--color-pink-700),
		var(--color-pink-700)
	);
	--colors-rose-solid: light-dark(
		var(--color-rose-700),
		var(--color-rose-700)
	);
	--colors-fuchsia-solid: light-dark(
		var(--color-fuchsia-700),
		var(--color-fuchsia-700)
	);
}
