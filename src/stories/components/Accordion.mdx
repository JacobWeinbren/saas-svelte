import { Meta, Story, Canvas, ArgTypes, Controls } from "@storybook/addon-docs/blocks";
import * as AccordionStories from "./Accordion.stories.svelte";
import {
	AccordionRoot,
	AccordionItem,
	AccordionItemTrigger,
	AccordionItemContent,
} from "$saas/components/accordion";
import {
	accordionRootPattern,
	accordionItemPattern,
	accordionItemTriggerPattern,
	accordionItemContentPattern,
} from "../utils";
import { getControls } from "../utils";

<Meta of={AccordionStories} />

# Accordion

## Used to show and hide sections of related content on a page

<Canvas of={AccordionStories.Basic} />

## Anatomy

The Accordion component uses [Ark UI](https://ark-ui.com/docs/components/accordion) primitives for accessibility, state management, and keyboard navigation.

**Simple Usage:**

```tsx
<script>
  import { Accordion } from '$saas/accordion';

  // Title is auto-generated from value (e.g., "first-item" -> "First Item")
  const items = [
    { value: 'first-item', content: 'Some value 1...' },
    { value: 'second-item', content: 'Some value 2...' },
    { value: 'third-item', content: 'Some value 3...' },
  ];
</script>

<Accordion.Root {items} collapsible defaultValue={['second-item']} />
```

**Composition API:**

```tsx
<script>
  import { Accordion } from '$saas/accordion';
</script>

<Accordion.Root collapsible defaultValue={['second-item']}>
  <Accordion.Item value="first-item">
    <Accordion.ItemTrigger>First Item</Accordion.ItemTrigger>
    <Accordion.ItemContent>Some value 1...</Accordion.ItemContent>
  </Accordion.Item>

  <Accordion.Item value="second-item">
    <Accordion.ItemTrigger>Second Item</Accordion.ItemTrigger>
    <Accordion.ItemContent>Some value 2...</Accordion.ItemContent>
  </Accordion.Item>

  <Accordion.Item value="third-item">
    <Accordion.ItemTrigger>Third Item</Accordion.ItemTrigger>
    <Accordion.ItemContent>Some value 3...</Accordion.ItemContent>
  </Accordion.Item>
</Accordion.Root>
```

## Examples

### Controlled

Set the accordion that shows up by default, using the `defaultValue` prop.

<Canvas of={AccordionStories.Controlled} />

### With Icon

Add icons to accordion items by including the `Icon` component as a child of `AccordionItemTrigger`.

<Canvas of={AccordionStories.WithIcon} />

### Expand Multiple Items

Use the `multiple` prop to allow multiple items to be expanded at once.

<Canvas of={AccordionStories.Multiple} />

### Sizes

Use the `size` prop to change the size of the accordion.

<Canvas of={AccordionStories.Sizes} />

### Variants

Use the `variant` prop to change the visual style of the accordion. Values can be `outline`, `subtle`, `enclosed`, or `plain`.

<Canvas of={AccordionStories.Variants} />

### Disabled Item

Pass `disabled` on specific items in your data array to prevent them from being expanded or collapsed.

<Canvas of={AccordionStories.DisabledItem} />

### Props

**AccordionRoot**

<ArgTypes of={AccordionRoot} exclude={accordionRootPattern} />

**AccordionItem**

<ArgTypes of={AccordionItem} exclude={accordionItemPattern} />

**AccordionItemTrigger**

<ArgTypes of={AccordionItemTrigger} exclude={accordionItemTriggerPattern} />

**AccordionItemContent**

<ArgTypes of={AccordionItemContent} exclude={accordionItemContentPattern} />
